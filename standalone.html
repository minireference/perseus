<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Perseus render</title>

<link rel="stylesheet" type="text/css" href="/ke/css/khan-site.css" />
<link rel="stylesheet" type="text/css" href="/ke/css/khan-exercise.css" />
<link rel="stylesheet" type="text/css" href="/lib/katex/katex.css" />
<link rel="stylesheet" type="text/css" href="/lib/mathquill/mathquill.css" />

<link rel="stylesheet/less" type="text/css" href="/stylesheets/exercise-content-package/perseus.less" />
<script src="lib/less.js"></script>

</head>
<body>


<div id="exercice-sequence">
  <a href="#content={%22question%22%3A{%22content%22%3A%22Hello.%20Which%20is%20the%20number%20that%20is%20the%20answer%20to%20the%20universe%20and%20evertyhing%20%20nx%20%3D%20[[%E2%98%83%20numeric-input%201]]nnn%22%2C%22images%22%3A{}%2C%22widgets%22%3A{%22numeric-input%201%22%3A{%22type%22%3A%22numeric-input%22%2C%22alignment%22%3A%22default%22%2C%22static%22%3Afalse%2C%22graded%22%3Atrue%2C%22options%22%3A{%22static%22%3Afalse%2C%22answers%22%3A[{%22value%22%3A42%2C%22status%22%3A%22correct%22%2C%22message%22%3A%22%22%2C%22simplify%22%3A%22required%22%2C%22strict%22%3Afalse%2C%22maxError%22%3Anull}]%2C%22size%22%3A%22normal%22%2C%22coefficient%22%3Afalse%2C%22labelText%22%3A%22%22}%2C%22version%22%3A{%22major%22%3A0%2C%22minor%22%3A0}}}}%2C%22answerArea%22%3A{%22calculator%22%3Afalse%2C%22chi2Table%22%3Afalse%2C%22periodicTable%22%3Afalse%2C%22tTable%22%3Afalse%2C%22zTable%22%3Afalse}%2C%22itemDataVersion%22%3A{%22major%22%3A0%2C%22minor%22%3A1}%2C%22hints%22%3A[{%22replace%22%3Afalse%2C%22content%22%3A%22A%20hitn%20is%20this.%22%2C%22images%22%3A{}%2C%22widgets%22%3A{}}]}">example</a>
  &nbsp;
  <a href="#content=%7B%22question%22%3A%7B%22content%22%3A%22A%20%3D%20%5B%5B%E2%98%83%20numeric-input%201%5D%5D%20%3F%22%2C%22images%22%3A%7B%7D%2C%22widgets%22%3A%7B%22numeric-input%201%22%3A%7B%22type%22%3A%22numeric-input%22%2C%22alignment%22%3A%22default%22%2C%22static%22%3Afalse%2C%22graded%22%3Atrue%2C%22options%22%3A%7B%22static%22%3Afalse%2C%22answers%22%3A%5B%7B%22value%22%3A3%2C%22status%22%3A%22correct%22%2C%22message%22%3A%22%22%2C%22simplify%22%3A%22required%22%2C%22strict%22%3Afalse%2C%22maxError%22%3Anull%7D%5D%2C%22size%22%3A%22normal%22%2C%22coefficient%22%3Afalse%2C%22labelText%22%3A%22%22%7D%2C%22version%22%3A%7B%22major%22%3A0%2C%22minor%22%3A0%7D%7D%7D%7D%2C%22answerArea%22%3A%7B%22calculator%22%3Afalse%2C%22chi2Table%22%3Afalse%2C%22periodicTable%22%3Afalse%2C%22tTable%22%3Afalse%2C%22zTable%22%3Afalse%7D%2C%22itemDataVersion%22%3A%7B%22major%22%3A0%2C%22minor%22%3A1%7D%2C%22hints%22%3A%5B%5D%7D">example2</a>
</div>


<div id="problem-and-answer" class="bibliotron-exercise current-card framework-perseus vertical-shadow" style="width: 797px; margin: 20px;">
    <div id="problemarea">
        <div id="workarea"></div>
        <div id="hintsarea"></div>
    </div>
    <div id="answer_area_wrap">
        <div id="answer_area">
            <form id="answerform">
                <div id="anwsercontent" class="info-box">
                    <b>Answer</b> <br>
                    <div id="solutionarea"></div>
                    <div class="answer-buttons">
                        <input type="button" class="simple-button green" value="Check Answer" id="check-answer" />
                        <div id="positive-reinforcement" style="display: none;"><img src="/ke/images/face-smiley.png" /></div>
                    </div>
                </div>
            </form>
            <div class="info-box">
                <div class="answer-buttons">
                    <input type="button" class="simple-button orange" value="Hint" id="take-hint" />
                </div>
            </div>
        </div>
    </div>
    <div style="clear: both;"></div>
</div>

<div id="extras" style="margin: 20px;">
    <button id="score">Score</button>
    <span id="scratchpadEnabled" style="margin-left: 15px;">
        Scratchpad available
    </span>
</div>

<script src="lib/babel-polyfills.min.js"></script>
<script src="lib/es5-shim.js"></script>
<script src="lib/jquery.js"></script>
<script src="lib/underscore.js"></script>
<script src="lib/react-with-addons.js"></script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full&amp;delayStartupUntil=configured"></script>
<script src="lib/katex/katex.js"></script>
<script src="lib/mathquill/mathquill-basic.js"></script>
<script src="lib/kas.js"></script>

<script>
    var KhanUtil = {
        debugLog: function() {}
    };
    var Khan = {
        Util: KhanUtil,
        error: function() {},
        query: {debug: ""},
        imageBase: "/ke/images/",
        scratchpad: {
            enable: function() {
                Khan.scratchpad.enabled = true;
                document.getElementById("scratchpadEnabled").innerText =
                    "Scratchpad available";
            },
            disable: function() {
                Khan.scratchpad.enabled = false;
                document.getElementById("scratchpadEnabled").innerText =
                    "Scratchpad not available";
            },
            enabled: true,
        }
    };
</script>

<script src="ke/local-only/i18n.js"></script>
<script src="ke/local-only/jquery.qtip.js"></script>
<script src="ke/exercises-stub.js"></script>




<!-- Do-it-yourself require.js -->
<!-- no need for this <script src="ke/local-only/require.js"></script>
     because almond.js defines a barebones exports, require, and define. -->
<script src="ke-deps-bundle.js"></script>
<script src="build/perseus.js"></script>

<script>
(function() {
    
    $('#score').on('click', function() {
        console.log(window.itemRenderer.scoreInput());
    });

    function initPerseus(Perseus) {

        window.Perseus = Perseus;
        window.ReactDOM = React.__internalReactDOM;

        var defaultQuestion = { 
            "question": {
                "content": "",
                "images": {},
                "widgets": {}
            },
            "answerArea": {
                "calculator": false
            },
            "itemDataVersion": {
                "major": 0,
                "minor": 1
            },
            "hints": []
        };

        $('#take-hint').on('click', function() {
            window.itemRenderer.showHint();
        });

        $('#check-answer').on('click', function() {
            var score = window.itemRenderer.scoreInput();

            if (score.empty) {
                return;
            } else if (score.correct) {
                $('#positive-reinforcement').show();
                $('#check-answer').val('Correct!');
            } else {
                $('#check-answer').val('Incorrect, try again.');
            }
        });

        var query = Perseus.Util.parseQueryString(window.location.hash.substring(1));
        var question = query.content ? JSON.parse(query.content) : defaultQuestion;

        Perseus.init({}).then(function() {
            var itemMountNode = document.createElement("div");
            var ItemRenderer = React.createFactory(Perseus.ItemRenderer);
            window.itemRenderer = ReactDOM.render(ItemRenderer({
                item: question,
                problemNum: Math.floor(Math.random() * 50) + 1,
                initialHintsVisible: 0,
                enabledFeatures: {
                    highlight: true,
                    toolTipFormats: true,
                    dynamicHintsArea: true,
                    newHintStyles: true,
                },
                apiOptions: {
                    responsiveStyling: true,
                    getAnotherHint: function() {
                        window.itemRenderer.showHint();
                    },
                },
            }, null), itemMountNode);
            window.itemRenderer.focus();
        }).then(function() {
            console.log("all done.", +new Date/1000);
        }, function(err) {
            console.error(err);
        });

    }
    initPerseus(Perseus);

    window.addEventListener("hashchange", function() {
        initPerseus(Perseus);
    }, false);

})();
</script>

</body>
</html>
